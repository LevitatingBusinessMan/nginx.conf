# This is an example of a reverse proxy to a unix socket.
# Thanks to the include directives, ssl certificates are automatically selected and renewed,
# and http is redirected to https.
server {
  listen 80;
  listen 443 ssl;
  listen [::]:80;
  listen [::]:443 ssl;

  server_name example.com;

  include common.d/ssl.conf;
  include common.d/certbot.conf;
  include common.d/ssl_redirect.conf;

  location / {
    include common.d/proxy_headers.conf;
    proxy_pass unix:/run/mybackend.sock;
  }

}
